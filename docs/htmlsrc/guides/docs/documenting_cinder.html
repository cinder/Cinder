<html>
	<head>
		<!-- Update title -->
		<title>Guide Title</title>

		<!-- keywords used for searching -->
		<meta name="keywords" content="guide, docs, documentation">

		<!-- reference to cinder classes -->
   		<!-- <ci seealso dox="[CLASS NAME GOES HERE]" label="[NAME OF LINK]"></ci> -->

   		<!-- master stylesheet - these links will be replaced when compiled -->
		<link rel="stylesheet" href="../../_assets/css/foundation.css">
		<link rel="stylesheet" href="../../_assets/css/prism.css">
		<link rel="stylesheet" href="../../_assets/css/cinder_docs.css">
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

		<!-- Place additional stylsheet links here, which will be copied over when compiled (optional) -->
		<style type="text/css">
		.dynamic {
			color: #999;
		}
		</style>
		
	</head>

	<body id="guide-contents" class="language-cpp">

		<!-- //////////////////// CONTENT STARTS HERE //////////////////// -->

		<h1>Documenting Cinder</h1>
		
		<p>As an open source project, the Cinder community welcomes anyone interested in helping to document the library and/or write guides to help other developers progress their understanding of the library as well as graphics programming techniques. There are many different ways to contribute to this documentation and this guide is meant to walk through those different avenues. You may want to take a look at the <a href='building_docs.html'>Building Docs guide</a> before reading this one.</p>

		<section>
			<h2>Documentation Anatomy</h2>

			<h3>The Docs Generation Process</h3>
			<p>Cinder documentation generation is a 2 step approach; </p>
			<ol>
				<li><strong>Exporting source code documentation</strong>
					<p>This step uses Doxygen to generate a series of xml files, one for each namespace, class, struct, and interface in the library and a master tag file (<em>cinder.tag</em>) which encapsulates the relationships between all of those files.</p>
				</li>
				<li><strong>Html generation and integration with guides</strong>
					<p>The Cinder documentation framework includes a way to add documentation to a class' specific documentation page as well as a way to easily link in to specific areas of the documentation from your html files. The integration happens via a python script, <em>generateDocs.py</em>, that parses all of the information and exports an html directory, ready for consumption.</p>
				</li>
			</ol>
			
			<a name="file-structure"></a>
			<h3>Docs File Structure</h3>
			<p>This is a brief overview of the new <strong>docs/</strong> directory structure. Files in <span class="dynamic">gray</span> specify dynamically generated files and folders that you won't see unless you generate the docs.</p>
			<ul>
				<li><strong>doxygen/</strong> - for doxygen related files and configuration
					<ul>
						<li><strong><span class="dynamic">cinder.tag</span></strong> <em>(generated by Doxywizard)</em> - contains library source file data and relationship</li>
						<li><strong>Doxyfile</strong> - Export configuration for Doxygen/DoxyWizard</li>
					</ul>
				</li>
				<li><strong><span class="dynamic">html/</span></strong> <em>(generated by generateDocs.py)</em> - contains final html and asset files</li>
				<li><strong>htmlsrc/</strong> - contains all html source files, including css, javascript, mustache templates, and images
					<ul>
						<li><strong>_assets/</strong> - contains all css, images, and javascript files used through out the docs</li>
						<li><strong>_docs/</strong> - contains all supplemental class documentation</li>
						<li><strong>_templates/</strong> - mustache/html templates used by the python script to generate docs with</li>
						<li><strong>guides/</strong> - source files for all guides</li>
						<li><strong>index.html</strong> - markup for the index page</li>
						<li><strong>reference/</strong> - source files for reference pages</li>
					</ul>
				</li>
				<li><strong>libs/</strong> - python libraries used by generateDocs.py</li>
				<li><strong>stylesrc/</strong> - contains style source files, including stylus (which is the preprossesor of choice) source files and a gulp config file.</li>
				<li><strong><span class="dynamic">xml/</span></strong> <em>(generated by DoxyWizard)</em> - all of the files containing data for each source file documentation page.</li>
			</ul>

			
		</section>

		<section>
			<h2>Documenting Source Code</h2>
			<p>All of the inline comments within the cinder source code is turned into documentation in the Doxygen export step. For instance, if you open up a header file, you will commonly see block comments above each method that look like this.</p>

<pre><code>
[from from Surface.h]
/** \brief Constructs asynchronously a Surface from an images located at \a path. The loaded Surface is returned in \a surface.
If you are creating a Surface from an image that is located outside of the WinRT Windows Store App folder, you must use this method.
**/
</code></pre>

			or single line comments like this
<pre><code>
//! Returns the width of the Surface in pixels
</code></pre>

			<p>If you choose to contribute to the inline source documentation, you can follow this <a href="https://www.stack.nl/~dimitri/doxygen/manual/markdown.html" target="_blank">Doxygen markup guide</a> to incorporate some simple inline styling and functionality, such as defining what they call "brief descriptions", and adding links.</p>
		</section>

		<section>
			<h2>External Documentation</h2>
			<p>If you want to write supplemental documentation and guides for the docs, there is a separate process. All external documentation is written in HTML and lives in the <em>htmlsrc</em> directory. You can refer to the <a href="#file-structure">Docs File Structure</a> for specifics. Unless you are contributing to the overall documentation site markup, you will be mainly concerned with the <em>_docs</em> and <em>guides</em> directories. The <em>_docs</em> directory includes markup and additional assets for class descriptions, while the <em>guides</em> directory includes all of the <a href="../../guides/index.html">Cinder guide's</a> markup. Before, we go into the specifics of writing each type of external docs, let me introduce you to the <code>&lt;ci&gt;</code> tag.</p>
		</section>

		<section>
			<h2>The &lt;ci&gt; tag</h2>
			<p>To assist in bridging the gap between the Cinder source reference pages and the supplemental html markup, we've created a special markup tag known internally as the <strong>&lt;ci&gt; tag</strong>. This tag is used to specify any content within the supplemental documentation html that needs to be linked into the source reference as well as provide a way for reference pages to link back to our guides.</p>

			<p>These are the use-cases for the <code>&lt;ci&gt;</code> tag:
			
			<h3>To generate a link into a source documentation page</h3>
			<p>When writing guides, you may frequently want to reference specific source code constructs, such as a class, namespace, function, or enum. Since the docs are dynamically generated and the links may have long names that may change as the cinder library changes, you shouldn't have to worry about the specific linkage. So the ci tag makes it easy to link to that specific source code reference entry.</p>

			<p>For example, if you were writing a guide for FBOs and you wanted to link to Cinder's Fbo class, you could simply write:</p>
<pre><code class="language-markup">
An &lt;ci&gt;Fbo&lt;/ci&gt; represents an OpenGL Framebuffer Object.
</code></pre>
			<p>When the file is processed through the docs generation script, it will find and link up that tag to link to the correct html file. It will generate this: </p>
<pre><code class="language-markup">
An &lt;a href=&quot;../../classcinder_1_1gl_1_1_fbo.html&quot;&gt;Fbo&lt;/a&gt; represents an OpenGL Framebuffer Object.
</code></pre>
			
			<p>When using the &lt;ci&gt; tag this way, you can either specifiy the target between the opening and closing tags like this:</p>
<pre><code class="language-markup">
&lt;ci&gt;Fbo&lt;/ci&gt;
</code></pre>
			<p>or if you want to link to it using a different label than the one given, you can say:</p>
<pre><code class="language-markup">
&lt;ci dox="Fbo"&gt;This is an Fbo&lt;/ci&gt;
</code></pre>

			<p>If you happen to know the namespace of the source reference file you are linking to, you can avoid ambiguity, by specifying the namespace:</p>
<pre><code class="language-markup">
&lt;ci dox="ci::gl::Fbo"&gt;This is an Fbo&lt;/ci&gt;
</code></pre>
			<p>Take a look at <a href="../../ci_tag_test.html">this test file</a> to see a list of different combinations.</p>


			<h3>To add a description to a specific class, interface, or struct</h3>
			<p>To avoid polluting the Cinder library header files, you can write additional class descriptions in a separate html file and have it injected into the actual class' description. We do this by placing all of your content into a ci tag, giving it an atrtibute of <code>prefix</code> and setting the <code>dox</code> attribute to the class that you are documenting.</p>

<pre><code class="language-markup">
&lt;ci prefix dox=&quot;cinder::Fbo&quot;&gt;
	&lt;p&gt;FBOs are used for doing off-screen rendering ...&lt;/p&gt;
	&lt;!-- continue writing content here --&gt;
&lt;/ci&gt;
</code></pre>

			<h3>To link a guide to a specific class reference page</h3>
			<p>Guides are made way better when you can find them. So we've made it easy for you to link your guides up to any relevant classes. For instance, The guide for <a href="../cinder-images/index.html">using images in Cinder</a> discusses Textures, Surfaces, and Channels. To associate that guide to those specific class pages, all you need to do is add these ci tags with a <code>seelalso</code> attribute to the html page head:</p>

<pre><code class="language-markup">
&lt;head&gt;
	...
	&lt;ci seealso dox=&quot;ci::Surface&quot; label=&quot;Images in Cinder&quot;&gt;&lt;/ci&gt;
	&lt;ci seealso dox=&quot;cinder::ChannelT&quot; label=&quot;Images in Cinder&quot;&gt;&lt;/ci&gt;
	&lt;ci seealso dox=&quot;cinder::gl::Texture2d&quot; label=&quot;Images in Cinder&quot;&gt;&lt;/ci&gt;
	...
&lt;/head&gt;
</code></pre>
			
			<p>Once those specific class reference pages are generated, a link to the guide will appear in the class detail side bar under "Related Links".
			 <img class="shadow center" src="images/related_links.png" />
			</p>
			
		</section>

		<section>
			<h2>Writing Guides</h2>
			<p>To write a guide to be included in the Cinder documentation, follow these steps:</p>
			<ol>
				<li>Create a new directory within the <em>docs/guides/</em> directory. The name of the directory should be short and descriptive (ex: audio, mac-setup, cinder-blocks, etc).</li>
				<li>Create a new index.html file in your new directory and copy the content from the html file at <a href="../_start-here/start-here.html">_start-here/start-here.html</a>. It includes all of the css and javascript linkages that are used in the generated html directory. This is not essential, but will give you an accurate preview of how your guide will look once integrated.</li>
				<li>Write your guide in HTML. You can include your own javscript and css if you'd like.</li>
				<li>If you have multiple pages, <a href="#config">create a config file</a>.</li>
				<li>Add meta keywords that can be used for searchability within the docs.</li>
				<li>Add any <code>&lt;ci&gt; seealso</code> tags to classes that may be relevant (Can also be part of the config for multiple pages).</li>
				<li>Push your changes to a forked cinder repo</li>
				<li>Make a pull request</li>
			</ol>

			
			<a name="config"></a>
			<h3>The config file</h3>
			<p>For your convenience, you can optionally include a config.json file for if your guide has multiple pages. What it does is allows you to specify the pages in your guide for subnavigation, specify meta keytwords for every page in your guide, and set the &lt;ci&gt; prefix seealso tag for every page in your guide. This way you are not doing it per page.</p>
			<p>This is an example taken from the path2d guide:</p>
<pre><code class="language-javascript">
{
	"data":{
		// keywords for finding this guide via search
		"metadata":
		{	
			"keywords": ["path2d", "shape2d", "bezier", "curves", "path", "lines"]
		},
		// subnavigation for every page of the guide
		"subnav":[
			{
				"label": "Part 1",					// label for the subnav link
				"link": "part1.html"				// link for the subnav link
			},
			{
				"label": "Part 2",
				"link": "part2.html"
			},
			{
				"label": "Part 3",
				"link": "part3.html"
			}
		],
		"seealso":
		{
			"label": "Path2d Guide",				// label for the seealso link(s)
			"dox": ["ci::Path2d", "ci::Shape2d"]	// classes to be linked from
		}
	}
}
</code></pre>
		</section>

		<section>
			<h2>Helpful tips</h2>
			<h3>Using the pre tag when writing code blocks</h3>
			<p>For code blocks, we use the <a href="#">prism</a> [Insert link to prism js] syntax highlighter. It allows you to effectively style your code blocks depending on the language your are writing code blocks for. This is the proper markup to write code blocks</p>
<pre><code class="language-markup">
&lt;pre&gt;&lt;code&gt;
	//... write some code here to be highlighted
&lt;/code&gt;&lt;/pre&gt;
</code></pre>

			<p>By default, C++ is the specified language for code blocks. If you want to override that, you can use on following supported language classes:</p>
			
<pre><code class="language-markup">
&lt;pre&gt;&lt;code class=&quot;language-cpp&quot;&gt;
	//... write some code here to be highlighted
&lt;/code&gt;&lt;/pre&gt;
</code></pre>			
			<ul>
				<li><code>language-c++</code> <em>(default)</em></li>
				<li><code>language-markup</code> <em>For HTML and XML</em></li>
				<li><code>language-bash</code></li>
				<li><code>language-javascript</code> <em>For Javascript and JSON</em></li>
				<li><code>language-python</code></li>
				<li><code>[FIND LIST OF SUPPORTED LANGUAGES]</code></li>
			</ul>
			<p>You can write inline html code by using the &lt;code&gt; tag by itself:</p>
<pre><code class="language-markup">
&lt;code&gt;gl::ScopedGlslProg&lt;/code&gt; is a scoped glsl shader.
</code></pre>

			<h3>Including WebGL</h3>
			<p>We encourage you to use whatever web technologies that will make your documentation as helpful as possible, including the use of WebGL. To do so, you should be able to write your WebGL sample entirely in a separate file and save in the same guide directory. Then you can embed your sample into an iFrame. All assets within the guide's directory will be copied over.</p>
			<p>This all you have to do to embed a WebGL iFrame into your markup:</p>
<pre><code class="language-markup">
&lt;iframe src=&quot;cube.html&quot; width=&quot;640&quot; height=&quot;400&quot; frameborder=0&gt;&lt;/iframe&gt;
</code></pre>
			<p>Note: Due to file system security measures, WebGL samples that rely on asset loading will not show up when viewing your guide via file system. You will have to spin up a local server to view it, which should be pretty common if you are writing WebGL in the first place.</p>
		</section>

		
		
		<!-- //////////////////// END CONTENT //////////////////// -->

		<!-- Scripts -->
		<script src="../../_assets/js/prism.js" type="text/javascript"></script>
		<!-- Place additional scripts here (optional) -->
		<!-- <script type="text/javascript"></script> -->

	</body>
</html> 